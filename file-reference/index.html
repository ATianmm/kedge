
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Kedge File Reference</title>
    <link href="/img/favicon.ico" rel="icon" type="image/ico" />

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;yaml&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <a href="/"><img src="images/logo.png" class="logo" alt="Logo" /></a>
      <h2 style="text-align:center;color:#fff">Kedge File Reference</h2>

        <div class="lang-selector">
              <a href="#" data-language-name="yaml">yaml</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc" class="toc-list-h1">
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="Introduction">Introduction</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#extending-kubernetes" class="toc-h2 toc-link" data-title="Extending Kubernetes">Extending Kubernetes</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#kedge-keys" class="toc-h1 toc-link" data-title="Kedge Keys">Kedge Keys</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#name" class="toc-h2 toc-link" data-title="name">name</a>
                  </li>
                  <li>
                    <a href="#appversion" class="toc-h2 toc-link" data-title="appversion">appversion</a>
                  </li>
                  <li>
                    <a href="#labels" class="toc-h2 toc-link" data-title="labels">labels</a>
                  </li>
                  <li>
                    <a href="#deployments" class="toc-h2 toc-link" data-title="deployments">deployments</a>
                  </li>
                  <li>
                    <a href="#jobs" class="toc-h2 toc-link" data-title="jobs">jobs</a>
                  </li>
                  <li>
                    <a href="#deploymentconfigs" class="toc-h2 toc-link" data-title="deploymentConfigs">deploymentConfigs</a>
                  </li>
                  <li>
                    <a href="#volumeclaims" class="toc-h2 toc-link" data-title="volumeClaims">volumeClaims</a>
                  </li>
                  <li>
                    <a href="#configmaps" class="toc-h2 toc-link" data-title="configMaps">configMaps</a>
                  </li>
                  <li>
                    <a href="#services" class="toc-h2 toc-link" data-title="services">services</a>
                  </li>
                  <li>
                    <a href="#ingresses" class="toc-h2 toc-link" data-title="ingresses">ingresses</a>
                  </li>
                  <li>
                    <a href="#routes" class="toc-h2 toc-link" data-title="routes">routes</a>
                  </li>
                  <li>
                    <a href="#secrets" class="toc-h2 toc-link" data-title="secrets">secrets</a>
                  </li>
                  <li>
                    <a href="#buildconfigs" class="toc-h2 toc-link" data-title="buildConfigs">buildConfigs</a>
                  </li>
                  <li>
                    <a href="#imagestreams" class="toc-h2 toc-link" data-title="imageStreams">imageStreams</a>
                  </li>
                  <li>
                    <a href="#includeresources" class="toc-h2 toc-link" data-title="includeResources">includeResources</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#objects" class="toc-h1 toc-link" data-title="Objects">Objects</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#deploymentobject" class="toc-h2 toc-link" data-title="deploymentObject">deploymentObject</a>
                  </li>
                  <li>
                    <a href="#jobobject" class="toc-h2 toc-link" data-title="jobObject">jobObject</a>
                  </li>
                  <li>
                    <a href="#containerobject" class="toc-h2 toc-link" data-title="containerObject">containerObject</a>
                  </li>
                  <li>
                    <a href="#persistentvolumeobject" class="toc-h2 toc-link" data-title="persistentVolumeObject">persistentVolumeObject</a>
                  </li>
                  <li>
                    <a href="#configmapobject" class="toc-h2 toc-link" data-title="configMapObject">configMapObject</a>
                  </li>
                  <li>
                    <a href="#serviceobject" class="toc-h2 toc-link" data-title="serviceObject">serviceObject</a>
                  </li>
                  <li>
                    <a href="#ingressobject" class="toc-h2 toc-link" data-title="ingressObject">ingressObject</a>
                  </li>
                  <li>
                    <a href="#secretobject" class="toc-h2 toc-link" data-title="secretObject">secretObject</a>
                  </li>
                  <li>
                    <a href="#deploymentconfigobject" class="toc-h2 toc-link" data-title="deploymentConfigObject">deploymentConfigObject</a>
                  </li>
                  <li>
                    <a href="#routeobject" class="toc-h2 toc-link" data-title="routeObject">routeObject</a>
                  </li>
                  <li>
                    <a href="#buildconfigobject" class="toc-h2 toc-link" data-title="buildConfigObject">buildConfigObject</a>
                  </li>
                  <li>
                    <a href="#imagestreamobject" class="toc-h2 toc-link" data-title="imageStreamObject">imageStreamObject</a>
                  </li>
                  <li>
                    <a href="#includeresourceobject" class="toc-h2 toc-link" data-title="includeResourceObject">includeResourceObject</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#variables" class="toc-h1 toc-link" data-title="Variables">Variables</a>
          </li>
      </div>
        <ul class="toc-footer">
            <li><a href='http://kedgeproject.org'>kedgeproject.org</a></li>
            <li><a href='https://github.com/kedgeproject/kedge'>Kedge on GitHub</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introduction'>Introduction</h1>
<blockquote>
<p>Using an example <a href="https://raw.githubusercontent.com/kedgeproject/kedge/master/examples/simplest/httpd.yaml">httpd.yaml</a> file.</p>
</blockquote>
<pre class="highlight yaml tab-yaml"><code><span class="na">name</span><span class="pi">:</span> <span class="s">httpd</span>

<span class="na">deployments</span><span class="pi">:</span>
<span class="pi">-</span> <span class="na">containers</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">image</span><span class="pi">:</span> <span class="s">centos/httpd</span>

<span class="na">services</span><span class="pi">:</span>
<span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">httpd</span>
  <span class="na">type</span><span class="pi">:</span> <span class="s">LoadBalancer</span>
  <span class="na">portMappings</span><span class="pi">:</span> 
    <span class="pi">-</span> <span class="s">8080:80</span>
</code></pre>
<blockquote>
<p>Now run the apply command to deploy to Kubernetes</p>
</blockquote>
<pre class="highlight sh tab-shell"><code><span class="gp">$ </span>kedge apply -f httpd.yaml
deployment <span class="s2">"httpd"</span> created
service <span class="s2">"httpd"</span> created
</code></pre>
<blockquote>
<p>View the deployed service</p>
</blockquote>
<pre class="highlight sh tab-shell"><code><span class="gp">$ </span>minikube service httpd
Opening kubernetes service default/httpd <span class="k">in </span>default browser...

<span class="gp">$ </span>kubectl describe svc httpd
Name:                   httpd
...
Endpoints:              172.17.0.4:80
...
</code></pre>
<p><strong>Note:</strong> This markdown file is best viewed at <a href="http://kedgeproject.org/file-reference/">kedgeproject.org/file-reference/</a>.</p>

<p>Kedge is a simple, easy and declarative way to define and deploy applications to Kubernetes by writing very concise application definitions.</p>

<p>It&#39;s an <strong>extension</strong> of Kubernetes constructs and extends many concepts of Kubernetes you&#39;re familiar with, such as PodSpec.</p>

<p><strong>Installation and Quick Start</strong></p>

<p>Installing Kedge can be found at <a href="http://kedgeproject.org">kedgeproject.org</a> or alternatively, the <a href="https://github.com/kedgeproject/kedge/releases">GitHub release page</a>.</p>

<p>If you haven&#39;t used Kedge yet, we recommend using the <a href="http://kedgeproject.org/quickstart/">Quick Start</a> guide, or follow the instructions within the side-bar.</p>
<h2 id='extending-kubernetes'>Extending Kubernetes</h2>
<blockquote>
<p>Extending Kedge as well as using a shortcut</p>
</blockquote>
<pre class="highlight yaml tab-yaml"><code><span class="na">name</span><span class="pi">:</span> <span class="s">web</span>

<span class="na">deployments</span><span class="pi">:</span>
<span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">web</span>
  <span class="na">containers</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">image</span><span class="pi">:</span> <span class="s">nginx</span>
    <span class="c1"># Extending the Kedge file using:</span>
    <span class="c1"># https://v1-6.docs.kubernetes.io/docs/api-reference/v1.6/#container-v1-core</span>
    <span class="na">livenessProbe</span><span class="pi">:</span>
      <span class="na">httpGet</span><span class="pi">:</span>
        <span class="na">path</span><span class="pi">:</span> <span class="s">/</span>
        <span class="na">port</span><span class="pi">:</span> <span class="s">80</span>
      <span class="na">initialDelaySeconds</span><span class="pi">:</span> <span class="s">20</span>
      <span class="na">timeoutSeconds</span><span class="pi">:</span> <span class="s">5</span>

<span class="na">services</span><span class="pi">:</span>
<span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">nginx</span>
  <span class="na">type</span><span class="pi">:</span> <span class="s">NodePort</span>
  <span class="c1"># Using a Kedge-specific 'shortcut'</span>
  <span class="na">portMappings</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">8080:80</span>
</code></pre>
<p>Kedge introduces a simplification of Kubernetes constructs in order to make application development simple and easy to modify/deploy.</p>

<p>However, in many parts of Kedge, you&#39;re able to use the standard Kubernetes constructs you may already know.</p>

<p>For example, Kedge simplifies deployment by introducing the <code>health</code> key. However, you can still use constructs such as <code>readinessProbe</code> or <code>livenessProbe</code>.</p>
<h1 id='kedge-keys'>Kedge Keys</h1>
<blockquote>
<p>All defineable Kedge keys</p>
</blockquote>
<pre class="highlight yaml tab-yaml"><code><span class="na">name</span><span class="pi">:</span> <span class="s">&lt;string&gt;</span>
<span class="na">appversion</span><span class="pi">:</span> <span class="s">&lt;string&gt;</span>
<span class="na">controller</span><span class="pi">:</span> <span class="s">&lt;string&gt;</span>
<span class="na">labels</span><span class="pi">:</span> <span class="s">&lt;object&gt;</span>
<span class="na">deployments</span><span class="pi">:</span>
<span class="pi">-</span> <span class="s">&lt;deploymentObject&gt;</span>
<span class="na">jobs</span><span class="pi">:</span>
<span class="pi">-</span> <span class="s">&lt;jobObject&gt;</span>
<span class="na">deploymentConfigs</span><span class="pi">:</span>
<span class="pi">-</span> <span class="s">&lt;deploymentConfigObject&gt;</span>
<span class="na">volumeClaims</span><span class="pi">:</span>
<span class="pi">-</span> <span class="s">&lt;persistentVolumeObject&gt;</span>
<span class="na">configMaps</span><span class="pi">:</span>
<span class="pi">-</span> <span class="s">&lt;configMapObject&gt;</span>
<span class="na">services</span><span class="pi">:</span>
<span class="pi">-</span> <span class="s">&lt;serviceObject&gt;</span>
<span class="na">ingresses</span><span class="pi">:</span>
<span class="pi">-</span> <span class="s">&lt;ingressObject&gt;</span>
<span class="na">routes</span><span class="pi">:</span>
<span class="pi">-</span> <span class="s">&lt;routeObject&gt;</span>
<span class="na">secrets</span><span class="pi">:</span>
<span class="pi">-</span> <span class="s">&lt;secretObject&gt;</span>
<span class="na">imageStreams</span><span class="pi">:</span>
<span class="pi">-</span> <span class="s">&lt;imageStreamObject&gt;</span>
<span class="na">buildConfigs</span><span class="pi">:</span>
<span class="pi">-</span> <span class="s">&lt;buildConfigObject&gt;</span>
<span class="na">includeResources</span><span class="pi">:</span>
<span class="pi">-</span> <span class="s">&lt;includeResources&gt;</span>
</code></pre>
<aside class="notice">
Depending on the controller key selected. Each controller (deployments, jobs, deploymentConfigs) is an extension of Kubernetes (or OpenShift with deploymentConfigs). Anything defineable within Kubernetes may also be defined within Kedge. See <a href="http://kedgeproject.org/file-reference/#objects">objects</a> for more information.
</aside>
<h4 id='kedge-root-keys'>Kedge Root Keys</h4>
<p>Root keys are definable in the innermost section of a YAML file.</p>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>string</td>
<td>yes</td>
<td>The name of the app or microservice this particular file defines.</td>
</tr>
<tr>
<td>appversion</td>
<td>string</td>
<td>no</td>
<td>The version of the app or microservice this particular file defines.</td>
</tr>
<tr>
<td>labels</td>
<td>object</td>
<td>no</td>
<td>Map of string keys and values that can be used to organize and categorize (scope and select) objects. May match selectors of replication controllers and services.</td>
</tr>
<tr>
<td>deployments</td>
<td>array of <a href="#deploymentobject">deploymentObject</a></td>
<td>no</td>
<td><a href="#deploymentobject">deploymentObject</a></td>
</tr>
<tr>
<td>jobs</td>
<td>array of <a href="#jobobject">jobObject</a></td>
<td>no</td>
<td><a href="#jobobject">jobObject</a></td>
</tr>
<tr>
<td>volumeClaims</td>
<td>array of <a href="#persistentvolumeobject">persistentVolumeObject</a></td>
<td>no</td>
<td><a href="#persistentvolumeobject">persistentVolumeObject</a></td>
</tr>
<tr>
<td>configMap</td>
<td>array of <a href="#configmapobject">configMapObject</a></td>
<td>no</td>
<td><a href="#configmapobject">configMapObject</a></td>
</tr>
<tr>
<td>services</td>
<td>array of <a href="#serviceobject">serviceObject</a></td>
<td>no</td>
<td><a href="#serviceobject">serviceObject</a></td>
</tr>
<tr>
<td>ingresses</td>
<td>array of <a href="#ingressobject">ingressObject</a></td>
<td>no</td>
<td><a href="#ingressobject">ingressObject</a></td>
</tr>
<tr>
<td>secrets</td>
<td>array of <a href="#secretobject">secretObject</a></td>
<td>no</td>
<td><a href="#secretobject">secretObject</a></td>
</tr>
<tr>
<td>deploymentConfigs</td>
<td>array of <a href="#deploymentconfigobject">deploymentconfigobject</a></td>
<td>no</td>
<td><a href="#deploymentconfigobject">deploymentconfigobject</a></td>
</tr>
<tr>
<td>routes</td>
<td>array of <a href="#routeobject">routeObject</a></td>
<td>no</td>
<td><a href="#routeobject">routeObject</a></td>
</tr>
<tr>
<td>imageStreams</td>
<td>array of <a href="#imagestreamobject">imageStreamObject</a></td>
<td>no</td>
<td><a href="#imagestreamobject">imageStreamObject</a></td>
</tr>
<tr>
<td>buildConfigs</td>
<td>array of <a href="#buildconfigobject">buildConfigObject</a></td>
<td>no</td>
<td><a href="#buildconfigobject">buildConfigObject</a></td>
</tr>
<tr>
<td>includeResources</td>
<td>array of <a href="#includeresourceobject">includeResourceObject</a></td>
<td>no</td>
<td><a href="#includeresourceobject">includeResourceObject</a></td>
</tr>
</tbody></table>
<h2 id='name'>name</h2><pre class="highlight yaml tab-yaml"><code><span class="na">name</span><span class="pi">:</span> <span class="s">mariadb</span>
</code></pre>
<table><thead>
<tr>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>string</td>
<td>yes</td>
<td>The name of the app or microservice this particular file defines.</td>
</tr>
</tbody></table>
<h2 id='appversion'>appversion</h2><pre class="highlight yaml tab-yaml"><code><span class="na">appversion</span><span class="pi">:</span> <span class="s">5.0.0-alpha</span>
</code></pre>
<table><thead>
<tr>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>string</td>
<td>no</td>
<td>The version of the app or microservice this particular file defines.</td>
</tr>
</tbody></table>
<h2 id='labels'>labels</h2><pre class="highlight yaml tab-yaml"><code><span class="na">labels</span><span class="pi">:</span>
  <span class="na">env</span><span class="pi">:</span> <span class="s">dev</span>
  <span class="na">department</span><span class="pi">:</span> <span class="s">middle-tier</span>
</code></pre>
<table><thead>
<tr>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>object</td>
<td>no</td>
<td>Map of string keys and values that can be used to organize and categorize (scope and select) objects. May match selectors of replication controllers and services.</td>
</tr>
</tbody></table>

<p>All the configuration created will have this label applied.
More info <a href="http://kubernetes.io/docs/user-guide/labels">kubernetes.io/docs/user-guide/labels</a></p>
<h2 id='deployments'>deployments</h2><pre class="highlight yaml tab-yaml"><code><span class="na">deployments</span><span class="pi">:</span>
<span class="pi">-</span> <span class="s">&lt;deploymentObject&gt;</span>
</code></pre>
<table><thead>
<tr>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>array of <a href="#deploymentobject">deploymentObject</a></td>
<td>no</td>
<td><a href="#deploymentobject">deploymentObject</a></td>
</tr>
</tbody></table>
<h2 id='jobs'>jobs</h2><pre class="highlight yaml tab-yaml"><code><span class="na">jobs</span><span class="pi">:</span>
<span class="pi">-</span> <span class="s">&lt;jobObject&gt;</span>
</code></pre>
<table><thead>
<tr>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>array of <a href="#jobobject">jobObject</a></td>
<td>no</td>
<td><a href="#jobobject">jobObject</a></td>
</tr>
</tbody></table>
<h2 id='deploymentconfigs'>deploymentConfigs</h2><pre class="highlight yaml tab-yaml"><code><span class="na">deploymentConfigs</span><span class="pi">:</span>
<span class="pi">-</span> <span class="s">&lt;deploymentConfigObject&gt;</span>
</code></pre>
<table><thead>
<tr>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>array of <a href="#deploymentconfigobject">deploymentConfigObject</a></td>
<td>no</td>
<td><a href="#deploymentconfigobject">deploymentConfigObject</a></td>
</tr>
</tbody></table>
<h2 id='volumeclaims'>volumeClaims</h2><pre class="highlight yaml tab-yaml"><code><span class="na">volumeClaims</span><span class="pi">:</span>
<span class="pi">-</span> <span class="s">&lt;volume&gt;</span>
</code></pre>
<table><thead>
<tr>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>array of <a href="#persistentvolumeobject">persistentVolumeObject</a></td>
<td>no</td>
<td><a href="#persistentvolumeobject">persistentVolumeObject</a></td>
</tr>
</tbody></table>
<h2 id='configmaps'>configMaps</h2><pre class="highlight yaml tab-yaml"><code><span class="na">configMaps</span><span class="pi">:</span>
<span class="pi">-</span> <span class="s">&lt;configMapObject&gt;</span>
</code></pre>
<table><thead>
<tr>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>array of <a href="#configmapobject">configMapObject</a></td>
<td>no</td>
<td><a href="#configmapobject">configMapObject</a></td>
</tr>
</tbody></table>
<h2 id='services'>services</h2><pre class="highlight yaml tab-yaml"><code><span class="na">services</span><span class="pi">:</span>
<span class="pi">-</span> <span class="s">&lt;service&gt;</span>
</code></pre>
<table><thead>
<tr>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>array of <a href="#serviceobject">serviceObject</a></td>
<td>no</td>
<td><a href="#serviceobject">serviceObject</a></td>
</tr>
</tbody></table>
<h2 id='ingresses'>ingresses</h2><pre class="highlight yaml tab-yaml"><code><span class="na">ingresses</span><span class="pi">:</span>
<span class="pi">-</span> <span class="s">&lt;ingressObject&gt;</span>
</code></pre>
<table><thead>
<tr>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>array of <a href="#ingressobject">ingressObject</a></td>
<td>no</td>
<td><a href="#ingressobject">ingressObject</a></td>
</tr>
</tbody></table>
<h2 id='routes'>routes</h2><pre class="highlight yaml tab-yaml"><code><span class="na">routes</span><span class="pi">:</span>
<span class="pi">-</span> <span class="s">&lt;routeObject&gt;</span>
</code></pre>
<table><thead>
<tr>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>array of <a href="#routeobject">routeObject</a></td>
<td>no</td>
<td><a href="#routeobject">routeObject</a></td>
</tr>
</tbody></table>
<h2 id='secrets'>secrets</h2><pre class="highlight yaml tab-yaml"><code><span class="na">secrets</span><span class="pi">:</span>
<span class="pi">-</span> <span class="s">&lt;secret&gt;</span>
</code></pre>
<table><thead>
<tr>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>array of <a href="#secretobject">secretObject</a></td>
<td>no</td>
<td><a href="#secretobject">secretObject</a></td>
</tr>
</tbody></table>
<h2 id='buildconfigs'>buildConfigs</h2><pre class="highlight yaml tab-yaml"><code><span class="na">buildConfigs</span><span class="pi">:</span>
<span class="pi">-</span> <span class="s">&lt;buildConfigObject&gt;</span>
</code></pre>
<table><thead>
<tr>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>array of <a href="#buildconfigobject">buildConfig Object</a></td>
<td>no</td>
<td><a href="#buildconfigobject">buildConfig Object</a> object</td>
</tr>
</tbody></table>
<h2 id='imagestreams'>imageStreams</h2><pre class="highlight yaml tab-yaml"><code><span class="na">imageStreams</span><span class="pi">:</span>
<span class="pi">-</span> <span class="s">&lt;imageStreamObject&gt;</span>
</code></pre>
<table><thead>
<tr>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>array of <a href="#imagestreamobject">imageStream Object</a></td>
<td>no</td>
<td><a href="#imagestreamobject">imageStream Object</a> object</td>
</tr>
</tbody></table>
<h2 id='includeresources'>includeResources</h2><pre class="highlight yaml tab-yaml"><code><span class="na">includeResources</span><span class="pi">:</span>
<span class="pi">-</span> <span class="s">&lt;string&gt;</span>
</code></pre>
<blockquote>
<p>Example</p>
</blockquote>
<pre class="highlight yaml tab-yaml"><code><span class="na">includeResources</span><span class="pi">:</span>
<span class="pi">-</span> <span class="s">./kubernetes/cron-job.yaml</span>
<span class="pi">-</span> <span class="s">secrets.yaml</span>
</code></pre>
<p>This is list of files that are Kubernetes specific that can be passed to Kubernetes directly. Of these files, Kedge will not do any processing, but simply pass it to the container orchestrator.</p>

<table><thead>
<tr>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>array of <a href="#includeresourceobject">includeResourceObject</a></td>
<td>no</td>
<td><a href="#includeresourceobject">includeResourceObject</a></td>
</tr>
</tbody></table>

<p>The file path are relative to the kedge application file.</p>

<p>This is one of the mechanisms to extend kedge beyond its capabilites to support
anything in the Kubernetes land.</p>
<h1 id='objects'>Objects</h1>
<p>Some objects are extension(s) of their Kubernetes / OpenShift counterparts. Below is a chart that lists each extension:</p>

<table><thead>
<tr>
<th>Key</th>
<th>Field</th>
<th>Extension of</th>
</tr>
</thead><tbody>
<tr>
<td><code>deployments</code></td>
<td>deploymentObject</td>
<td><a href="https://v1-6.docs.kubernetes.io/docs/api-reference/v1.6/#deployment-v1beta1-apps">Kubernetes Deployment</a></td>
</tr>
<tr>
<td><code>jobs</code></td>
<td>jobObject</td>
<td><a href="https://v1-6.docs.kubernetes.io/docs/api-reference/v1.6/#job-v1-batch">Kubernetes Job</a></td>
</tr>
<tr>
<td><code>containers</code></td>
<td>containerObject</td>
<td><a href="https://v1-6.docs.kubernetes.io/docs/api-reference/v1.6/#container-v1-core">Kubernetes Container</a></td>
</tr>
<tr>
<td><code>volumeClaims</code></td>
<td>persistentVolumeObject</td>
<td><a href="https://v1-6.docs.kubernetes.io/docs/api-reference/v1.6/#persistentvolumeclaim-v1-core">Kubernetes PersistentVolumeClaim</a></td>
</tr>
<tr>
<td><code>services</code></td>
<td>serviceObject</td>
<td><a href="https://v1-6.docs.kubernetes.io/docs/api-reference/v1.6/#service-v1-core">Kubernetes Service</a></td>
</tr>
<tr>
<td><code>ingresses</code></td>
<td>ingressObject</td>
<td><a href="https://v1-6.docs.kubernetes.io/docs/api-reference/v1.6/#ingressspec-v1beta1-extensions">Kubernetes Ingress</a></td>
</tr>
<tr>
<td><code>secrets</code></td>
<td>secretObject</td>
<td><a href="https://v1-6.docs.kubernetes.io/docs/api-reference/v1.6/#envvarsource-v1-core">Kubernetes EnvVarSource</a></td>
</tr>
<tr>
<td><code>deploymentConfigs</code></td>
<td>deploymentConfigObject</td>
<td><a href="https://docs.openshift.org/latest/rest_api/apis-apps/v1beta1.Deployment.html#object-schema">OpenShift DeploymentConfig</a></td>
</tr>
<tr>
<td><code>routes</code></td>
<td>routeObject</td>
<td><a href="https://docs.openshift.com/container-platform/3.7/rest_api/apis-route.openshift.io/v1.Route.html">OpenShift Route</a></td>
</tr>
<tr>
<td><code>buildConfigs</code></td>
<td>buildConfigObject</td>
<td><a href="https://docs.openshift.com/container-platform/3.7/rest_api/apis-build.openshift.io/v1.BuildConfig.html">OpenShift BuildConfig</a></td>
</tr>
<tr>
<td><code>imageStreams</code></td>
<td>imageStreamObject</td>
<td><a href="https://docs.openshift.com/container-platform/3.7/rest_api/apis-image.openshift.io/v1.ImageStream.html">OpenShift ImageStream</a></td>
</tr>
<tr>
<td><code>includeResourcs</code></td>
<td>includeResourceObject</td>
<td>N/A</td>
</tr>
</tbody></table>
<h2 id='deploymentobject'>deploymentObject</h2>
<blockquote>
<p>Example using the Kubernetes Deployment controller</p>
</blockquote>
<pre class="highlight yaml tab-yaml"><code><span class="na">name</span><span class="pi">:</span> <span class="s">httpd</span>

<span class="na">deployments</span><span class="pi">:</span>
<span class="pi">-</span> <span class="na">containers</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">image</span><span class="pi">:</span> <span class="s">centos/httpd</span>

<span class="na">services</span><span class="pi">:</span>
<span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">httpd</span>
  <span class="na">type</span><span class="pi">:</span> <span class="s">LoadBalancer</span>
  <span class="na">portMappings</span><span class="pi">:</span> 
    <span class="pi">-</span> <span class="s">8080:80</span>
</code></pre>
<aside class="notice">
Each "deployments" is a Kubernetes <a target="_blank" href="https://v1-6.docs.kubernetes.io/docs/api-reference/v1.6/#deployment-v1beta1-apps">Deployment Spec</a> with additional Kedge-specific keys.
</aside>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>containers</td>
<td>array of <a href="#containerobject">containerObject</a></td>
<td>yes</td>
<td><a href="#containerobject">containerObject</a></td>
</tr>
</tbody></table>
<h2 id='jobobject'>jobObject</h2>
<blockquote>
<p>Example using the Kubernetes Jobs controller</p>
</blockquote>
<pre class="highlight yaml tab-yaml"><code><span class="na">name</span><span class="pi">:</span> <span class="s">pival</span>

<span class="na">jobs</span><span class="pi">:</span>
<span class="pi">-</span> <span class="na">containers</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">image</span><span class="pi">:</span> <span class="s">perl</span>
    <span class="na">command</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">perl"</span><span class="pi">,</span>  <span class="s2">"</span><span class="s">-Mbignum=bpi"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">-wle"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">print</span><span class="nv"> </span><span class="s">bpi(2000)"</span><span class="pi">]</span>
  <span class="c1"># Job-related definitions</span>
  <span class="na">restartPolicy</span><span class="pi">:</span> <span class="s">Never</span>
  <span class="na">parallelism</span><span class="pi">:</span> <span class="s">3</span>
</code></pre>
<aside class="notice">
Each "jobs" is a Kubernetes <a target="_blank" href="https://v1-6.docs.kubernetes.io/docs/api-reference/v1.6/#job-v1-batch">Job Spec</a> with additional Kedge-specific keys.
</aside>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>containers</td>
<td>array of <a href="#containerobject">containerObject</a></td>
<td>yes</td>
<td><a href="#containerobject">containerObject</a></td>
</tr>
</tbody></table>
<h2 id='containerobject'>containerObject</h2>
<blockquote>
<p>Using the deployments controller</p>
</blockquote>
<pre class="highlight yaml tab-yaml"><code><span class="na">deployments</span><span class="pi">:</span>
<span class="pi">-</span> <span class="na">containers</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">&lt;containerObject&gt;</span>
</code></pre>
<blockquote>
<p>Using the deploymentConfigs controller with name.</p>
</blockquote>
<pre class="highlight yaml tab-yaml"><code><span class="na">deploymentConfigs</span><span class="pi">:</span>
<span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">foo</span>
  <span class="na">containers</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s">&lt;containerObject&gt;</span>
</code></pre>
<aside class="notice">
Each "container" is a Kubernetes <a target="_blank" href="https://v1-6.docs.kubernetes.io/docs/api-reference/v1.6/#container-v1-core">Container Spec</a> with additional Kedge-specific keys.
</aside>

<p>The <code>containers</code> key is used with <strong>every</strong> type of controller (deployments, jobs, deploymentConfigs).</p>

<p>List of containers</p>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>health</td>
<td>string</td>
<td>yes</td>
<td>The name of the app or microservice this particular file defines.</td>
</tr>
</tbody></table>
<h3 id='health'>health</h3><pre class="highlight yaml tab-yaml"><code><span class="na">containers</span><span class="pi">:</span>
<span class="pi">-</span> <span class="na">image</span><span class="pi">:</span> <span class="s">foobar</span>
  <span class="na">health</span><span class="pi">:</span> <span class="s">&lt;probe&gt;</span>
</code></pre>
<blockquote>
<p>Using health with a Guestbook example</p>
</blockquote>
<pre class="highlight yaml tab-yaml"><code><span class="na">deployments</span><span class="pi">:</span>
<span class="pi">-</span> <span class="na">containers</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">guestbook</span>
    <span class="na">image</span><span class="pi">:</span> <span class="s">gcr.io/google_containers/guestbook:v3</span>
    <span class="na">health</span><span class="pi">:</span>
      <span class="na">httpGet</span><span class="pi">:</span>
        <span class="na">path</span><span class="pi">:</span> <span class="s">/</span>
        <span class="na">port</span><span class="pi">:</span> <span class="s">3000</span>
      <span class="na">initialDelaySeconds</span><span class="pi">:</span> <span class="s">20</span>
      <span class="na">timeoutSeconds</span><span class="pi">:</span> <span class="s">5</span>
</code></pre>
<table><thead>
<tr>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>string</td>
<td>yes</td>
<td>A probe as defined by <a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.9/#probe-v1-core">Kubernetes Probe v1 core</a></td>
</tr>
</tbody></table>

<p><code>health</code> copies a <a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.9/#probe-v1-core">Kubernetes Probe spec</a> to both <code>livenessProbe</code> and <code>readinessProbe</code>. Thus only having to define it once.</p>
<h3 id='kubernetes-extension'>Kubernetes extension</h3>
<blockquote>
<p>Example extending <code>containers</code> with Kubernetes Container Spec</p>
</blockquote>
<pre class="highlight yaml tab-yaml"><code><span class="na">name</span><span class="pi">:</span> <span class="s">web</span>
<span class="na">deployments</span><span class="pi">:</span>
<span class="pi">-</span> <span class="na">containers</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">nginx</span>
    <span class="na">image</span><span class="pi">:</span> <span class="s">nginx</span>
    <span class="c1"># https://v1-6.docs.kubernetes.io/docs/api-reference/v1.6/#container-v1-core</span>
    <span class="na">env</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">WORDPRESS_DB_PASSWORD</span>
      <span class="na">value</span><span class="pi">:</span> <span class="s">wordpress</span>
    <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">WORDPRESS_DB_USER</span>
      <span class="na">value</span><span class="pi">:</span> <span class="s">wordpress</span>
    <span class="na">envFrom</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="na">configMapRef</span><span class="pi">:</span>
        <span class="na">name</span><span class="pi">:</span> <span class="s">web</span>
<span class="na">services</span><span class="pi">:</span>
<span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">nginx</span>
  <span class="na">type</span><span class="pi">:</span> <span class="s">NodePort</span>
  <span class="na">ports</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">port</span><span class="pi">:</span> <span class="s">8080</span>
    <span class="na">targetPort</span><span class="pi">:</span> <span class="s">80</span>
</code></pre>
<p>Anything <a href="https://v1-6.docs.kubernetes.io/docs/api-reference/v1.6/#container-v1-core">Container Spec</a> from Kubernetes can be included within the Kedge file.</p>

<p>For example, keys such as <code>env</code> and <code>envFrom</code> are commonly used.</p>
<h2 id='persistentvolumeobject'>persistentVolumeObject</h2><pre class="highlight yaml tab-yaml"><code><span class="na">volumeClaims</span><span class="pi">:</span>
<span class="pi">-</span> <span class="s">&lt;persistentVolumeObject&gt;</span>
</code></pre>
<blockquote>
<p>An example of deploying a volume</p>
</blockquote>
<pre class="highlight yaml tab-yaml"><code><span class="na">volumeClaims</span><span class="pi">:</span>
<span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">database</span>
  <span class="na">size</span><span class="pi">:</span> <span class="s">500Mi</span>
</code></pre>
<blockquote>
<p>Or further specifically defining it</p>
</blockquote>
<pre class="highlight yaml tab-yaml"><code><span class="na">volumeClaims</span><span class="pi">:</span>
<span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">database</span>
  <span class="na">accessModes</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">ReadWriteOnce</span>
  <span class="na">resources</span><span class="pi">:</span>
    <span class="na">requests</span><span class="pi">:</span>
      <span class="na">storage</span><span class="pi">:</span> <span class="s">500Mi</span>
</code></pre>
<aside class="notice">
Each "persistentVolumeObject" is a Kubernetes <a target="_blank" href="https://v1-6.docs.kubernetes.io/docs/api-reference/v1.6/#persistentvolumeclaim-v1-core">PersistentVolumeClaim</a> with additional Kedge-specific keys.
</aside>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>string</td>
<td>yes</td>
<td>The name of the volume. This should match with the <code>volumeMount</code> defined in the <code>container</code>.</td>
</tr>
<tr>
<td>size</td>
<td>string</td>
<td>yes</td>
<td>Size of persistent volume claim to be created. Conflicts with <a href="#resources">resources</a> field so define either of those.</td>
</tr>
<tr>
<td>resources</td>
<td>ResourceRequirements</td>
<td>yes</td>
<td>Resources represents the minimum resources the volume should have. Conflicts with <a href="#size">size</a> field so define either of those.</td>
</tr>
<tr>
<td>accessModes</td>
<td>array of string</td>
<td>no</td>
<td>AccessModes contains the desired access modes the volume should have. Defaults to <code>ReadWriteOnce</code>.</td>
</tr>
</tbody></table>

<p>A user needs to define this list of volumes and then use it in the <code>volumeMounts</code> field in <code>containers</code>. In the resultant output the <code>volumes</code> in <code>podSpec</code> will be populated automatically by the tool.</p>
<h3 id='name-2'>name</h3><pre class="highlight yaml tab-yaml"><code><span class="na">name</span><span class="pi">:</span> <span class="s">database</span>
</code></pre>
<table><thead>
<tr>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>string</td>
<td>yes</td>
<td>The name of the volume. This should match with the <code>volumeMount</code> defined in the <code>container</code>.</td>
</tr>
</tbody></table>
<h3 id='size'>size</h3><pre class="highlight yaml tab-yaml"><code><span class="na">size</span><span class="pi">:</span> <span class="s">700Mi</span>
</code></pre>
<table><thead>
<tr>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>string</td>
<td>yes</td>
<td>Size of persistent volume claim to be created. Conflicts with <a href="#resources">resources</a> field so define either of those.</td>
</tr>
</tbody></table>
<h3 id='resources'>resources</h3><pre class="highlight yaml tab-yaml"><code><span class="na">resources</span><span class="pi">:</span>
  <span class="na">requests</span><span class="pi">:</span>
    <span class="na">storage</span><span class="pi">:</span> <span class="s">500Mi</span>
</code></pre>
<table><thead>
<tr>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ResourceRequirements</td>
<td>yes</td>
<td>Resources represents the minimum resources the volume should have. Conflicts with <a href="#size">size</a> field so define either of those.</td>
</tr>
</tbody></table>

<p>More info: http://kubernetes.io/docs/user-guide/persistent-volumes#resources</p>
<h3 id='accessmodes'>accessModes</h3><pre class="highlight yaml tab-yaml"><code><span class="na">accessModes</span><span class="pi">:</span>
<span class="pi">-</span> <span class="s">ReadWriteOnce</span>
</code></pre>
<table><thead>
<tr>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>array of string</td>
<td>no</td>
<td>AccessModes contains the desired access modes the volume should have. Defaults to <code>ReadWriteOnce</code>.</td>
</tr>
</tbody></table>

<p>The access modes are:</p>

<ul>
<li><code>ReadWriteOnce</code> – the volume can be mounted as read-write by a single node</li>
<li><code>ReadOnlyMany</code> – the volume can be mounted read-only by many nodes</li>
<li><code>ReadWriteMany</code> – the volume can be mounted as read-write by many nodes</li>
</ul>

<p>More info: http://kubernetes.io/docs/user-guide/persistent-volumes#access-modes-1</p>
<h3 id='kubernetes-extension-2'>Kubernetes extension</h3>
<blockquote>
<p>Example extending <code>volumesClaims</code> with Kubernetes PersistentVolumeClaim Spec</p>
</blockquote>
<pre class="highlight yaml tab-yaml"><code><span class="na">name</span><span class="pi">:</span> <span class="s">database</span>
<span class="na">containers</span><span class="pi">:</span>
<span class="pi">-</span> <span class="na">image</span><span class="pi">:</span> <span class="s">mariadb:10</span>
  <span class="na">env</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">MYSQL_ROOT_PASSWORD</span>
    <span class="na">value</span><span class="pi">:</span> <span class="s">rootpasswd</span>
  <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">MYSQL_DATABASE</span>
    <span class="na">value</span><span class="pi">:</span> <span class="s">wordpress</span>
  <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">MYSQL_USER</span>
    <span class="na">value</span><span class="pi">:</span> <span class="s">wordpress</span>
  <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">MYSQL_PASSWORD</span>
    <span class="na">value</span><span class="pi">:</span> <span class="s">wordpress</span>
  <span class="na">volumeMounts</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">database</span>
    <span class="na">mountPath</span><span class="pi">:</span> <span class="s">/var/lib/mysql</span>
<span class="na">services</span><span class="pi">:</span>
<span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">database</span>
  <span class="na">ports</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">port</span><span class="pi">:</span> <span class="s">3306</span>
<span class="na">volumeClaims</span><span class="pi">:</span>
<span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">database</span>
  <span class="na">size</span><span class="pi">:</span> <span class="s">500Mi</span>
  <span class="c1"># https://v1-6.docs.kubernetes.io/docs/api-reference/v1.6/#persistentvolumeclaim-v1-core</span>
  <span class="na">persistentVolumeReclaimPolicy</span><span class="pi">:</span> <span class="s">Recycle</span>
  <span class="na">storageClassName</span><span class="pi">:</span> <span class="s">slow</span>
  <span class="na">mountOptions</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s">hard</span>
    <span class="pi">-</span> <span class="s">nfsvers=4.1</span>
</code></pre>
<p>Anything <a href="https://v1-6.docs.kubernetes.io/docs/api-reference/v1.6/#persistentvolumeclaim-v1-core">PersistentVolumeClaim Spec</a> from Kubernetes can be included within the Kedge file.</p>
<h2 id='configmapobject'>configMapObject</h2><pre class="highlight yaml tab-yaml"><code><span class="na">configMaps</span><span class="pi">:</span>
<span class="pi">-</span> <span class="s">&lt;configMapObject&gt;</span>
</code></pre>
<blockquote>
<p>Example</p>
</blockquote>
<pre class="highlight yaml tab-yaml"><code><span class="na">configMaps</span><span class="pi">:</span>
<span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">database</span>
  <span class="na">data</span><span class="pi">:</span>
    <span class="na">MYSQL_DATABASE</span><span class="pi">:</span> <span class="s">wordpress</span>
    <span class="na">app_data</span><span class="pi">:</span> <span class="s">/etc/app/data</span>
</code></pre>
<aside class="notice">
Each "configMapObject" is a Kubernetes <a target="_blank" href="https://v1-6.docs.kubernetes.io/docs/api-reference/v1.6/#configmap-v1-core">ConfigMap Spec</a> with additional Kedge-specific keys.
</aside>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>string</td>
<td>yes</td>
<td>The name of the configMapObject. This is optional field if only one configMapObject is defined, the default name will be the app name.</td>
</tr>
<tr>
<td>data</td>
<td>object</td>
<td>yes</td>
<td>Data contains the configuration data. Each key must be a valid DNS_SUBDOMAIN with an optional leading dot.</td>
</tr>
</tbody></table>
<h3 id='name-3'>Name</h3><pre class="highlight yaml tab-yaml"><code><span class="na">name</span><span class="pi">:</span> <span class="s">database</span>
</code></pre>
<table><thead>
<tr>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>string</td>
<td>yes</td>
<td>The name of the configMapObject. This is optional field if only one configMapObject is defined, the default name will be the app name.</td>
</tr>
</tbody></table>
<h3 id='data'>Data</h3><pre class="highlight yaml tab-yaml"><code><span class="na">data</span><span class="pi">:</span>
  <span class="na">key</span><span class="pi">:</span> <span class="s">value</span>
</code></pre>
<table><thead>
<tr>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>object</td>
<td>yes</td>
<td>Data contains the configuration data. Each key must be a valid DNS_SUBDOMAIN with an optional leading dot.</td>
</tr>
</tbody></table>

<p>A <code>configMapObject</code> is created out of this configuration.</p>
<h3 id='kubernetes-extension-3'>Kubernetes extension</h3>
<blockquote>
<p>Example extending <code>configMapObjects</code> with Kubernetes ConfigMap Spec</p>
</blockquote>
<pre class="highlight yaml tab-yaml"><code><span class="na">name</span><span class="pi">:</span> <span class="s">database</span>
<span class="na">containers</span><span class="pi">:</span>
<span class="pi">-</span> <span class="na">image</span><span class="pi">:</span> <span class="s">mariadb:10</span>
  <span class="na">env</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">MYSQL_ROOT_PASSWORD</span>
    <span class="na">value</span><span class="pi">:</span> <span class="s">rootpasswd</span>
  <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">MYSQL_DATABASE</span>
    <span class="na">valueFrom</span><span class="pi">:</span>
      <span class="na">configMapKeyRef</span><span class="pi">:</span>
        <span class="na">key</span><span class="pi">:</span> <span class="s">MYSQL_DATABASE</span>
        <span class="na">name</span><span class="pi">:</span> <span class="s">database</span>
  <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">MYSQL_USER</span>
    <span class="na">value</span><span class="pi">:</span> <span class="s">wordpress</span>
  <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">MYSQL_PASSWORD</span>
    <span class="na">value</span><span class="pi">:</span> <span class="s">wordpress</span>
<span class="na">services</span><span class="pi">:</span>
<span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">database</span>
  <span class="na">ports</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">port</span><span class="pi">:</span> <span class="s">3306</span>
<span class="na">configMaps</span><span class="pi">:</span>
<span class="pi">-</span> <span class="na">data</span><span class="pi">:</span>
  <span class="c1"># https://v1-6.docs.kubernetes.io/docs/api-reference/v1.6/#configmap-v1-core</span>
    <span class="na">MYSQL_DATABASE</span><span class="pi">:</span> <span class="s">wordpress</span>
</code></pre>
<p>Anything <a href="https://v1-6.docs.kubernetes.io/docs/api-reference/v1.6/#configmap-v1-core">ConfigMap Spec</a> from Kubernetes can be included. <strong>Note:</strong> Since Kedge already implents &quot;data&quot; in ConfigMaps no other keys are available to be added.</p>
<h2 id='serviceobject'>serviceObject</h2><pre class="highlight yaml tab-yaml"><code><span class="na">services</span><span class="pi">:</span>
<span class="pi">-</span> <span class="s">&lt;serviceObject&gt;</span>
</code></pre>
<blockquote>
<p>Example</p>
</blockquote>
<pre class="highlight yaml tab-yaml"><code><span class="na">services</span><span class="pi">:</span>
<span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">wordpress</span>
  <span class="na">ports</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">port</span><span class="pi">:</span> <span class="s">8080</span>
    <span class="na">targetPort</span><span class="pi">:</span> <span class="s">80</span>
  <span class="na">portMappings</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">90:9090/tcp</span>
</code></pre>
<aside class="notice">
Each "service" is a Kubernetes <a target="_blank" href="https://v1-6.docs.kubernetes.io/docs/api-reference/v1.6/#service-v1-core">Service Spec</a> with additional Kedge-specific keys.
</aside>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>string</td>
<td>yes</td>
<td>The name of the service.</td>
</tr>
<tr>
<td>endpoint</td>
<td>string</td>
<td>no</td>
<td>The endpoint of the service.</td>
</tr>
<tr>
<td>portMappings</td>
<td>array of &quot;port&quot;</td>
<td>no</td>
<td>Array of ports. Ex. <code>80:8080/tcp</code></td>
</tr>
</tbody></table>

<p>More info: <a href="https://v1-6.docs.kubernetes.io/docs/api-reference/v1.6/#servicespec-v1-core">v1-6.docs.kubernetes.io/docs/api-reference/v1.6/#servicespec-v1-core</a></p>

<p>Each service gets converted into a Kubernetes <code>service</code> and <code>ingress</code> respectively.</p>
<h3 id='name-4'>name</h3><pre class="highlight yaml tab-yaml"><code><span class="na">name</span><span class="pi">:</span> <span class="s">wordpress</span>
</code></pre>
<table><thead>
<tr>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>string</td>
<td>yes</td>
<td>The name of the service.</td>
</tr>
</tbody></table>
<h3 id='endpoint'>endpoint</h3><pre class="highlight yaml tab-yaml"><code><span class="na">endpoint</span><span class="pi">:</span> <span class="s">www.mycoolapp.com/admin</span>
</code></pre>
<table><thead>
<tr>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>string</td>
<td>yes</td>
<td>The endpoint of the service.</td>
</tr>
</tbody></table>

<p>This is an added field in the Service port, which if specified an <code>ingress</code>
resource is created. The <code>ingress</code> resource name will be the same as the name
of <code>service</code>.</p>

<p><code>endpoint</code> the way it is defined is can actually can be divided into
two parts the <code>URL</code> and <code>Path</code>, it is delimited by a forward slash.</p>
<h3 id='portmappings'>portMappings</h3><pre class="highlight yaml tab-yaml"><code><span class="na">portMappings</span><span class="pi">:</span>
<span class="pi">-</span> <span class="s">8081:81/UDP</span>
</code></pre>
<table><thead>
<tr>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>array of &quot;port&quot;</td>
<td>yes</td>
<td>Array of ports. Ex. <code>80:8080/tcp</code></td>
</tr>
</tbody></table>

<p><code>portMappings</code> is an added field to ServiceSpec.
This lets us set the port, targetPort and the protocol for a service in a single line. This is parsed and converted to a Kubernetes ServicePort object.</p>

<p><code>portMappings</code> is an array of <code>port:targetPort/protocol</code> definitions, so the syntax looks like -</p>
<pre class="highlight yaml tab-yaml"><code><span class="na">portMappings</span><span class="pi">:</span>
<span class="pi">-</span> <span class="s">&lt;port:targetPort/protocol&gt;</span>
<span class="pi">-</span> <span class="s">&lt;port:targetPort/protocol&gt;</span>
</code></pre>
<p>The only mandatory part to specify in a portMapping is &quot;port&quot;.
There are 4 possible cases here</p>

<ul>
<li>When only <code>port</code> is specified - <code>targetPort</code> is set to <code>port</code> and protocol is set to <code>TCP</code></li>
<li>When <code>port:targetPort</code> is specified - protocol is set to <code>TCP</code></li>
<li>When <code>port/protocol</code> is specified - <code>targetPort</code> is set to <code>port</code></li>
<li>When <code>port:targetPort/protocol</code> is specified - no auto population is done since all values are provided</li>
</ul>

<p>Find a working example using <code>portMappings</code> field <a href="https://github.com/kedgeproject/kedge/tree/master/docs/examples/portMappings/httpd.yaml">here</a></p>
<h3 id='kubernetes-extension-4'>Kubernetes extension</h3>
<blockquote>
<p>Example extending <code>service</code> with Kubernetes Service Spec</p>
</blockquote>
<pre class="highlight yaml tab-yaml"><code><span class="na">name</span><span class="pi">:</span> <span class="s">httpd</span>
<span class="na">containers</span><span class="pi">:</span>
<span class="pi">-</span> <span class="na">image</span><span class="pi">:</span> <span class="s">centos/httpd</span>
<span class="na">services</span><span class="pi">:</span>
<span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">httpd</span>
  <span class="c1"># https://v1-6.docs.kubernetes.io/docs/api-reference/v1.6/#servicespec-v1-core</span>
  <span class="na">ports</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">port</span><span class="pi">:</span> <span class="s">8080</span>
    <span class="na">targetPort</span><span class="pi">:</span> <span class="s">80</span>
  <span class="na">type</span><span class="pi">:</span> <span class="s">NodePort</span>
</code></pre>
<p>Anything <a href="https://v1-6.docs.kubernetes.io/docs/api-reference/v1.6/#servicespec-v1-core">Service Spec</a> from Kubernetes can be included within the Kedge file.</p>

<p>For example, keys such as <code>image</code> and <code>ports</code> are commonly used.</p>
<h2 id='ingressobject'>ingressObject</h2><pre class="highlight yaml tab-yaml"><code><span class="na">ingresses</span><span class="pi">:</span>
<span class="pi">-</span> <span class="s">&lt;ingress&gt;</span>
</code></pre>
<aside class="notice">
Each "ingress" is a Kubernetes <a target="_blank" href="https://v1-6.docs.kubernetes.io/docs/api-reference/v1.6/#ingressspec-v1beta1-extensions">Ingress Spec</a> with additional Kedge-specific keys.
</aside>

<table><thead>
<tr>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>yes</td>
<td>The name of the Ingress</td>
</tr>
</tbody></table>

<p>If there is only one port and user wants to expose the service then user should define one <code>ingress</code> with <code>host</code> atleast then the rest of the <code>ingress</code> spec (things like <code>http</code>, etc.) will be populated for the user.</p>
<h3 id='name-5'>name</h3><pre class="highlight yaml tab-yaml"><code><span class="na">name</span><span class="pi">:</span> <span class="s">wordpress</span>
</code></pre>
<table><thead>
<tr>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>string</td>
<td>yes</td>
<td>The name of the Ingress.</td>
</tr>
</tbody></table>
<h3 id='kubernetes-extension-5'>Kubernetes extension</h3>
<blockquote>
<p>Example extending <code>ingresses</code> with Kubernetes Ingress Spec</p>
</blockquote>
<pre class="highlight yaml tab-yaml"><code><span class="na">ingresses</span><span class="pi">:</span>
<span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">wordpress</span>
  <span class="c1"># https://v1-6.docs.kubernetes.io/docs/api-reference/v1.6/#ingressspec-v1beta1-extensions</span>
  <span class="na">rules</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">host</span><span class="pi">:</span> <span class="s">minikube.local</span>
    <span class="na">http</span><span class="pi">:</span>
      <span class="na">paths</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">backend</span><span class="pi">:</span>
          <span class="na">serviceName</span><span class="pi">:</span> <span class="s">wordpress</span>
          <span class="na">servicePort</span><span class="pi">:</span> <span class="s">8080</span>
        <span class="na">path</span><span class="pi">:</span> <span class="s">/</span>
</code></pre>
<p>Anything <a href="https://v1-6.docs.kubernetes.io/docs/api-reference/v1.6/#ingressspec-v1beta1-extensions">Ingress Spec</a> from Kubernetes can be included within the Kedge file.</p>
<h2 id='secretobject'>secretObject</h2><pre class="highlight yaml tab-yaml"><code><span class="na">secrets</span><span class="pi">:</span>
<span class="pi">-</span> <span class="s">&lt;secret&gt;</span>
</code></pre>
<aside class="notice">
Each "secret" is a Kubernetes <a target="_blank" href="https://v1-6.docs.kubernetes.io/docs/api-reference/v1.6/#envvarsource-v1-core">EnvVarSource Spec</a> with additional Kedge-specific keys.
</aside>
<h3 id='name-6'>Name</h3><pre class="highlight yaml tab-yaml"><code><span class="na">name</span><span class="pi">:</span> <span class="s">wordpress</span>
</code></pre>
<table><thead>
<tr>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>string</td>
<td>no</td>
<td>The name of the secret</td>
</tr>
</tbody></table>
<h3 id='kubernetes-extension-6'>Kubernetes extension</h3>
<blockquote>
<p>Example extending <code>service</code> with Kubernetes Service Spec</p>
</blockquote>
<pre class="highlight yaml tab-yaml"><code><span class="na">secrets</span><span class="pi">:</span>
<span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">wordpress</span>
  <span class="na">data</span><span class="pi">:</span>
    <span class="c1"># https://v1-6.docs.kubernetes.io/docs/api-reference/v1.6/#envvarsource-v1-core</span>
    <span class="c1"># Encoded in base64</span>
    <span class="na">MYSQL_ROOT_PASSWORD</span><span class="pi">:</span> <span class="s">YWRtaW4=</span>
    <span class="na">MYSQL_PASSWORD</span><span class="pi">:</span> <span class="s">cGFzc3dvcmQ=</span>
</code></pre>
<p>Anything <a href="https://v1-6.docs.kubernetes.io/docs/api-reference/v1.6/#envvarsource-v1-core">EnvVarSource Spec</a> from Kubernetes can be included within the Kedge file.</p>
<h2 id='deploymentconfigobject'>deploymentConfigObject</h2>
<blockquote>
<p>Example using the OpenShift DeploymentConfig controller</p>
</blockquote>
<pre class="highlight yaml tab-yaml"><code><span class="na">name</span><span class="pi">:</span> <span class="s">httpd</span>

<span class="na">deploymentConfigs</span><span class="pi">:</span>
<span class="pi">-</span> <span class="na">containers</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">image</span><span class="pi">:</span> <span class="s">bitnami/nginx</span>
  <span class="c1"># DeploymentConfig related definitions</span>
  <span class="na">replicas</span><span class="pi">:</span> <span class="s">2</span>

<span class="na">services</span><span class="pi">:</span>
<span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">httpd</span>
  <span class="na">type</span><span class="pi">:</span> <span class="s">NodePort</span>
  <span class="na">ports</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">port</span><span class="pi">:</span> <span class="s">8080</span>
    <span class="na">targetPort</span><span class="pi">:</span> <span class="s">8080</span>
</code></pre>
<aside class="notice">
Each "deploymentConfigs" is an OpenShift <a target="_blank" href="https://docs.openshift.org/latest/rest_api/apis-apps/v1beta1.Deployment.html#object-schema">Deployment Config Spec</a> with additional Kedge-specific keys.
</aside>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>containers</td>
<td>array of <a href="#containerobject">containerObject</a></td>
<td>yes</td>
<td><a href="#containerobject">containerObject</a></td>
</tr>
</tbody></table>
<h2 id='routeobject'>routeObject</h2><pre class="highlight yaml tab-yaml"><code><span class="na">routes</span><span class="pi">:</span>
<span class="pi">-</span> <span class="s">&lt;route&gt;</span>
</code></pre>
<blockquote>
<p>Example</p>
</blockquote>
<pre class="highlight yaml tab-yaml"><code><span class="na">name</span><span class="pi">:</span> <span class="s">webroute</span>
<span class="na">to</span><span class="pi">:</span>
  <span class="na">kind</span><span class="pi">:</span> <span class="s">Service</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">httpd</span>
</code></pre>
<aside class="notice">
Each "route" is an OpenShift <a target="_blank" href="https://docs.openshift.org/latest/rest_api/apis-route.openshift.io/v1.Route.html#object-schema">Route Spec</a> with additional Kedge-specific keys.
</aside>

<table><thead>
<tr>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>yes</td>
<td>The name of the Route</td>
</tr>
</tbody></table>
<h3 id='name-7'>name</h3><pre class="highlight yaml tab-yaml"><code><span class="na">name</span><span class="pi">:</span> <span class="s">wordpress</span>
</code></pre>
<table><thead>
<tr>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>string</td>
<td>yes</td>
<td>The name of the Route</td>
</tr>
</tbody></table>
<h3 id='openshift-extension'>OpenShift extension</h3>
<blockquote>
<p>Example extending <code>routes</code> with OpenShift Route Spec</p>
</blockquote>
<pre class="highlight yaml tab-yaml"><code><span class="na">routes</span><span class="pi">:</span>
<span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">httpd</span>
  <span class="c1"># https://docs.openshift.org/latest/rest_api/apis-route.openshift.io/v1.Route.html#object-schema</span>
  <span class="na">to</span><span class="pi">:</span>
    <span class="na">kind</span><span class="pi">:</span> <span class="s">Service</span>
    <span class="na">name</span><span class="pi">:</span> <span class="s">httpd</span>
</code></pre>
<p>Anything <a href="https://docs.openshift.org/latest/rest_api/apis-route.openshift.io/v1.Route.html#object-schema">Route Spec</a> from OpenShift can be included within the Kedge file.</p>
<h2 id='buildconfigobject'>buildConfigObject</h2><pre class="highlight yaml tab-yaml"><code><span class="na">buildConfigs</span><span class="pi">:</span>
<span class="pi">-</span> <span class="s">&lt;buildConfigObject&gt;</span>
</code></pre>
<blockquote>
<p>Example</p>
</blockquote>
<pre class="highlight yaml tab-yaml"><code><span class="na">name</span><span class="pi">:</span> <span class="s">rubybc</span>
<span class="na">triggers</span><span class="pi">:</span>
<span class="pi">-</span> <span class="na">type</span><span class="pi">:</span> <span class="s2">"</span><span class="s">ImageChange"</span>
<span class="na">source</span><span class="pi">:</span>
  <span class="na">type</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Git"</span>
  <span class="na">git</span><span class="pi">:</span>
    <span class="na">uri</span><span class="pi">:</span> <span class="s2">"</span><span class="s">https://github.com/openshift/ruby-hello-world"</span>
<span class="na">strategy</span><span class="pi">:</span>
  <span class="na">type</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Source"</span>
  <span class="na">sourceStrategy</span><span class="pi">:</span>
    <span class="na">from</span><span class="pi">:</span>
      <span class="na">kind</span><span class="pi">:</span> <span class="s2">"</span><span class="s">ImageStreamTag"</span>
      <span class="na">name</span><span class="pi">:</span> <span class="s2">"</span><span class="s">ruby-22-centos7:latest"</span>
<span class="na">output</span><span class="pi">:</span>
  <span class="na">to</span><span class="pi">:</span>
    <span class="na">kind</span><span class="pi">:</span> <span class="s2">"</span><span class="s">ImageStreamTag"</span>
    <span class="na">name</span><span class="pi">:</span> <span class="s2">"</span><span class="s">origin-ruby-sample:latest"</span>
</code></pre>
<aside class="notice">
Each "buildConfigObject" is an OpenShift <a target="_blank" href="https://docs.openshift.org/latest/rest_api/apis-build.openshift.io/v1.BuildConfig.html#object-schema">BuildConfig Spec</a> with additional Kedge-specific keys.
</aside>

<table><thead>
<tr>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>yes</td>
<td>The name of the BuildConfig</td>
</tr>
</tbody></table>
<h3 id='name-8'>name</h3><pre class="highlight yaml tab-yaml"><code><span class="na">name</span><span class="pi">:</span> <span class="s">wordpress</span>
</code></pre>
<table><thead>
<tr>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>string</td>
<td>yes</td>
<td>The name of the BuildConfig</td>
</tr>
</tbody></table>
<h3 id='openshift-extension-2'>OpenShift extension</h3>
<blockquote>
<p>Example extending <code>buildConfigs</code> with OpenShift BuildConfig Spec</p>
</blockquote>
<pre class="highlight yaml tab-yaml"><code><span class="na">name</span><span class="pi">:</span> <span class="s">ruby</span>
<span class="na">buildConfigs</span><span class="pi">:</span>
<span class="pi">-</span> <span class="na">triggers</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">type</span><span class="pi">:</span> <span class="s2">"</span><span class="s">ImageChange"</span>
  <span class="na">source</span><span class="pi">:</span>
    <span class="na">type</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Git"</span>
    <span class="na">git</span><span class="pi">:</span>
      <span class="na">uri</span><span class="pi">:</span> <span class="s2">"</span><span class="s">https://github.com/openshift/ruby-hello-world"</span>
  <span class="na">strategy</span><span class="pi">:</span>
    <span class="na">type</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Source"</span>
    <span class="na">sourceStrategy</span><span class="pi">:</span>
      <span class="na">from</span><span class="pi">:</span>
        <span class="na">kind</span><span class="pi">:</span> <span class="s2">"</span><span class="s">ImageStreamTag"</span>
        <span class="na">name</span><span class="pi">:</span> <span class="s2">"</span><span class="s">ruby-22-centos7:latest"</span>
  <span class="na">output</span><span class="pi">:</span>
    <span class="na">to</span><span class="pi">:</span>
      <span class="na">kind</span><span class="pi">:</span> <span class="s2">"</span><span class="s">ImageStreamTag"</span>
      <span class="na">name</span><span class="pi">:</span> <span class="s2">"</span><span class="s">origin-ruby-sample:latest"</span>
</code></pre><h2 id='imagestreamobject'>imageStreamObject</h2><pre class="highlight yaml tab-yaml"><code><span class="na">imageStreams</span><span class="pi">:</span>
<span class="pi">-</span> <span class="s">&lt;imageStreamObject&gt;</span>
</code></pre>
<blockquote>
<p>Example</p>
</blockquote>
<pre class="highlight yaml tab-yaml"><code><span class="na">name</span><span class="pi">:</span> <span class="s">rubyapp</span>
<span class="na">imageStreams</span><span class="pi">:</span>
<span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">rubystream</span>
  <span class="na">dockerImageRepository</span><span class="pi">:</span> <span class="s2">"</span><span class="s">docker.io/openshift/ruby-20-centos7"</span>
</code></pre>
<aside class="notice">
Each "imageStreamObject" is an OpenShift <a target="_blank" href="https://docs.openshift.org/latest/rest_api/apis-image.openshift.io/v1.ImageStream.html#object-schema">ImageStream Spec</a> with additional Kedge-specific keys.
</aside>

<table><thead>
<tr>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>yes</td>
<td>The name of the ImageStream</td>
</tr>
</tbody></table>
<h3 id='name-9'>name</h3><pre class="highlight yaml tab-yaml"><code><span class="na">name</span><span class="pi">:</span> <span class="s">wordpress</span>
</code></pre>
<table><thead>
<tr>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>string</td>
<td>yes</td>
<td>The name of the ImageStream</td>
</tr>
</tbody></table>
<h3 id='openshift-extension-3'>OpenShift extension</h3>
<blockquote>
<p>Example extending <code>imageStreams</code> with OpenShift ImageStream Spec</p>
</blockquote>
<pre class="highlight yaml tab-yaml"><code><span class="na">name</span><span class="pi">:</span> <span class="s">webapp</span>
<span class="na">imageStreams</span><span class="pi">:</span>
<span class="pi">-</span> <span class="na">tags</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">from</span><span class="pi">:</span>
      <span class="na">kind</span><span class="pi">:</span> <span class="s">DockerImage</span>
      <span class="na">name</span><span class="pi">:</span> <span class="s">centos/httpd-24-centos7:latest</span>
    <span class="na">name</span><span class="pi">:</span> <span class="s2">"</span><span class="s">2.4"</span>
</code></pre><h2 id='includeresourceobject'>includeResourceObject</h2><pre class="highlight yaml tab-yaml"><code><span class="na">includeResources</span><span class="pi">:</span>
<span class="pi">-</span> <span class="s">&lt;string&gt;</span>
</code></pre>
<blockquote>
<p>Example</p>
</blockquote>
<pre class="highlight yaml tab-yaml"><code><span class="na">includeResources</span><span class="pi">:</span>
<span class="pi">-</span> <span class="s">./kubernetes/cron-job.yaml</span>
<span class="pi">-</span> <span class="s">secrets.yaml</span>
</code></pre>
<p>Including external resources.</p>

<table><thead>
<tr>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>string</td>
<td>no</td>
<td>File location of the Kubernetes resource</td>
</tr>
</tbody></table>
<h1 id='variables'>Variables</h1>
<blockquote>
<p>Example using local environment variables</p>
</blockquote>
<pre class="highlight yaml tab-yaml"><code><span class="na">name</span><span class="pi">:</span> <span class="s">nginx</span>

<span class="na">deployments</span><span class="pi">:</span>
<span class="pi">-</span> <span class="na">containers</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">image</span><span class="pi">:</span> <span class="s">nginx:[[ NGINX_VERSION ]]</span>

<span class="na">services</span><span class="pi">:</span>
<span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">nginx</span>
  <span class="na">ports</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">port</span><span class="pi">:</span> <span class="s">8080</span>
    <span class="na">targetPort</span><span class="pi">:</span> <span class="s">80</span>
</code></pre>
<blockquote>
<p>Using the variables on the command line</p>
</blockquote>
<pre class="highlight sh tab-shell"><code><span class="nv">NGINX_VERSION</span><span class="o">=</span>1.13 kedge apply -f nginx.yaml
</code></pre>
<p>You can use variables anywhere in the Kedge file. Variable names are enclosed in double square brackets (<code>[[ variable_name ]]</code>). For example <code>[[ IMAGE_NAME ]]</code> will be replaced with value of environment variable <code>$IMAGE_NAME</code>.</p>

<blockquote>
<p>Specify default value of variable,</p>
</blockquote>
<pre class="highlight yaml tab-yaml"><code><span class="na">name</span><span class="pi">:</span> <span class="s">foo</span>
<span class="na">image</span><span class="pi">:</span> <span class="s">foo/bar:[[ TAG:latest ]]</span>
</code></pre>
<p>You can specify a default value of a variable if it is not set. 
For example: <code>[[ TAG:latest ]]</code> If <code>TAG</code> variable is not set, <code>latest</code> will be used.</p>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="yaml">yaml</a>
          </div>
      </div>
    </div>
  </body>
</html>
